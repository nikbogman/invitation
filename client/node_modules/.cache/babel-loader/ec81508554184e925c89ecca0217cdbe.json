{"ast":null,"code":"import _asyncToGenerator from\"/root/invitation-prom-2022/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/root/invitation-prom-2022/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/root/invitation-prom-2022/client/node_modules/@babel/runtime/regenerator/index.js\";import React from\"react\";import'./Form.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Form(_ref){var name=_ref.name;var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),coming=_React$useState2[0],setComing=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),clicked=_React$useState4[0],setClicked=_React$useState4[1];var _handleRadio=function _handleRadio(event){var coming=event.currentTarget.value==='true'?true:false;setComing(coming);};var _handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();event.stopPropagation();if(coming){_context.next=4;break;}return _context.abrupt(\"return\",alert(\"Трябва да изберете преди да потвърдите\"));case 4:setClicked(!clicked);_context.next=7;return fetch(\"\".concat(process.env.REACT_APP_SERVER_URL,\"teachers\"),{method:'POST',mode:'no-cors',headers:{'Content-Type':'application/json'},body:JSON.stringify({name:name,coming:coming})});case 7:case\"end\":return _context.stop();}}},_callee);}));return function _handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"Form\",children:clicked?/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0411\\u043B\\u0430\\u0433\\u043E\\u0434\\u0430\\u0440\\u0438\\u043C \\u0437\\u0430 \\u043E\\u0442\\u0434\\u0435\\u043B\\u0435\\u043D\\u043E\\u0442\\u043E \\u0432\\u043D\\u0438\\u043C\\u0430\\u043D\\u0438\\u0435!\"}):/*#__PURE__*/_jsxs(\"form\",{onSubmit:/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _handleSubmit(e);case 2:return _context2.abrupt(\"return\",_context2.sent);case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref3.apply(this,arguments);};}(),children:[/*#__PURE__*/_jsx(\"div\",{className:\"radio\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"coming\",value:\"true\",checked:coming===true,onChange:_handleRadio}),\"\\u0429\\u0435 \\u043F\\u0440\\u0438\\u0441\\u044A\\u0441\\u0442\\u0432\\u0430\\u043C\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"radio\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"coming\",value:\"false\",checked:coming===false,onChange:_handleRadio}),\"\\u041D\\u044F\\u043C\\u0430 \\u0434\\u0430 \\u043F\\u0440\\u0438\\u0441\\u044A\\u0441\\u0442\\u0432\\u0430\\u043C\"]})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"\\u041F\\u043E\\u0442\\u0432\\u044A\\u0440\\u0434\\u0438\"})]})});}export default Form;","map":{"version":3,"sources":["/root/invitation-prom-2022/client/src/Form.js"],"names":["React","Form","name","useState","coming","setComing","clicked","setClicked","_handleRadio","event","currentTarget","value","_handleSubmit","preventDefault","stopPropagation","alert","fetch","process","env","REACT_APP_SERVER_URL","method","mode","headers","body","JSON","stringify","e"],"mappings":"wWAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,YAAP,C,wFAEA,QAASC,CAAAA,IAAT,MAAwB,IAARC,CAAAA,IAAQ,MAARA,IAAQ,CACpB,oBAA4BF,KAAK,CAACG,QAAN,CAAe,IAAf,CAA5B,oDAAOC,MAAP,qBAAeC,SAAf,qBACA,qBAA8BL,KAAK,CAACG,QAAN,CAAe,KAAf,CAA9B,qDAAOG,OAAP,qBAAgBC,UAAhB,qBAEA,GAAIC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAC1B,GAAML,CAAAA,MAAM,CAAGK,KAAK,CAACC,aAAN,CAAoBC,KAApB,GAA8B,MAA9B,CAAuC,IAAvC,CAA8C,KAA7D,CACAN,SAAS,CAACD,MAAD,CAAT,CACH,CAHD,CAKA,GAAIQ,CAAAA,aAAa,2FAAG,iBAAOH,KAAP,kHAChBA,KAAK,CAACI,cAAN,GACAJ,KAAK,CAACK,eAAN,GAFgB,GAGXV,MAHW,yDAGIW,KAAK,CAAC,wCAAD,CAHT,SAIhBR,UAAU,CAAC,CAACD,OAAF,CAAV,CAJgB,sBAKVU,CAAAA,KAAK,WACJC,OAAO,CAACC,GAAR,CAAYC,oBADR,aAEP,CACIC,MAAM,CAAE,MADZ,CAEIC,IAAI,CAAE,SAFV,CAGIC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAHb,CAIIC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAEvB,IAAI,CAAJA,IAAF,CAAQE,MAAM,CAANA,MAAR,CAAf,CAJV,CAFO,CALK,uDAAH,kBAAbQ,CAAAA,aAAa,6CAAjB,CAgBA,mBACI,YAAK,SAAS,CAAC,MAAf,UACKN,OAAO,cACJ,gNADI,cAGJ,cAAM,QAAQ,2FAAE,kBAAOoB,CAAP,6IAAmBd,CAAAA,aAAa,CAACc,CAAD,CAAhC,iHAAF,gEAAd,wBACI,YAAM,SAAS,CAAC,OAAhB,uBACI,sCACI,cACI,IAAI,CAAC,OADT,CAEI,IAAI,CAAC,QAFT,CAGI,KAAK,CAAC,MAHV,CAII,OAAO,CAAEtB,MAAM,GAAK,IAJxB,CAKI,QAAQ,CAAEI,YALd,EADJ,+EADJ,EADJ,cAYI,YAAK,SAAS,CAAC,OAAf,uBACI,sCACI,cACI,IAAI,CAAC,OADT,CAEI,IAAI,CAAC,QAFT,CAGI,KAAK,CAAC,OAHV,CAII,OAAO,CAAEJ,MAAM,GAAK,KAJxB,CAKI,QAAQ,CAAEI,YALd,EADJ,wGADJ,EAZJ,cAuBI,eAAQ,IAAI,CAAC,QAAb,8DAvBJ,GAJR,EADJ,CAgCH,CAED,cAAeP,CAAAA,IAAf","sourcesContent":["import React from \"react\";\nimport './Form.css';\n\nfunction Form({ name }) {\n    const [coming, setComing] = React.useState(null);\n    const [clicked, setClicked] = React.useState(false);\n\n    let _handleRadio = (event) => {\n        const coming = event.currentTarget.value === 'true' ? true : false;\n        setComing(coming);\n    }\n\n    let _handleSubmit = async (event) => {\n        event.preventDefault();\n        event.stopPropagation();\n        if (!coming) return alert(\"Трябва да изберете преди да потвърдите\")\n        setClicked(!clicked);\n        await fetch(\n            `${process.env.REACT_APP_SERVER_URL}teachers`,\n            {\n                method: 'POST',\n                mode: 'no-cors',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ name, coming })\n            }\n        )\n    }\n\n    return (\n        <div className=\"Form\">\n            {clicked ?\n                <h3>Благодарим за отделеното внимание!</h3>\n                :\n                <form onSubmit={async (e) => await _handleSubmit(e)}>\n                    < div className=\"radio\" >\n                        <label>\n                            <input\n                                type=\"radio\"\n                                name=\"coming\"\n                                value=\"true\"\n                                checked={coming === true}\n                                onChange={_handleRadio} />\n                            Ще присъствам\n                        </label>\n                    </div >\n                    <div className=\"radio\">\n                        <label>\n                            <input\n                                type=\"radio\"\n                                name=\"coming\"\n                                value=\"false\"\n                                checked={coming === false}\n                                onChange={_handleRadio} />\n                            Няма да присъствам\n                        </label>\n                    </div>\n                    <button type=\"submit\">Потвърди</button>\n                </form >}\n        </div>\n    );\n}\n\nexport default Form;\n"]},"metadata":{},"sourceType":"module"}